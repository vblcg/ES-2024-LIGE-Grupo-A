<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Horário ISCTE</title>
    <link href="https://unpkg.com/tabulator-tables/dist/css/tabulator.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://unpkg.com/tabulator-tables/dist/js/tabulator.min.js"></script>
</head>

<body>
    <div id="table-horario">
    <script type="text/javascript">

    var colunas = ["Curso", "UC", "Turno", "Turma", "Inscritos no Turno", "Dia da Semana", "Hora Início da Aula", "Hora Fim da Aula", "Data da aula", "Caracteristicas da sala pedida para a aula", "Sala atribuida a aula"];

    const pathJson = '../../../../../output.json';

    fetch(pathJson)
    .then(response => {
        // Check if the request was successful
        if (!response.ok) {
        throw new Error(`Failed to fetch ${pathJson}: ${response.statusText}`);
        }

        // Parse the JSON data
        return response.json();
    })
    .then(data => {
        // 'data' is now an array containing the parsed JSON content
        var table = new Tabulator("#table-horario", {
        height:"700px",
        layout:"fitColumns",
        data: data,
        columns: [
            {title: "Curso", field:"Curso", headerFilter: "input"},
            {title: "UC", field:"UC", headerFilter:"input"},
            {title: "Turno", field:"Turno", headerFilter:"input", sorter:"alphanum"},
            {title: "Turma", field:"Turma", headerFilter:"input"},
            {title: "Inscritos no Turno", field:"Inscritos no Turno", headerFilter:"input", sorter:"number"},
            {title: "Dia da Semana", field:"Dia da Semana", editor:"list", headerFilter:true, headerFilterParams:{values:{"segunda_feira":"Segunda-feira", "terca_feira":"Terça-feira", "quarta_feira":"Quarta-feira", "quinta_feira":"Quinta-feira" ,"sexta_feira":"Sexta-feira", "sabado":"Sábado", "domingo":"Domingo"}}},
            {title: "Hora Início da Aula", field:"Hora Início da Aula", sorter:"time",editor:"list", headerFilter:true, headerFilterParams:{values:{"08:00":"08:00", "09:30":"09:30", "11:00":"11:00","13:00":"13:00", "14:30":"14:30", "16:00":"16:00"}}},
            {title: "Hora Fim da Aula", field:"Hora Fim da Aula", headerFilter:"input", sorter:"time"},
            {title: "Data da aula", field:"Data da aula", headerFilter:"input", sorter:"date"},
            {title: "Caracteristicas da sala pedida para a aula", field:"Caracteristicas da sala pedida para a aula", headerFilter:"input"},
            {title: "Sala atribuida a aula", field:"Sala atribuida a aula", headerFilter:"input"},


        ],
    });

        
    })
    .catch(error => {
        console.error(`Error loading ${pathJson}:`, error);
    });

    

    

    

            

        
    </script>
    </div>
</body>
